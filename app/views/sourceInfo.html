<page-title>{{data.title}} om boken</page-title>
<meta-desc>{{data.title}} om boken</meta-desc>
<div class="maincontent" ng-class="{searching:!data}">
    <div class="preloader">Hämtar <span class="dots_blink"></span></div>

    <div class="header_left">
        <h3 class="author">{{data.authorFullname}}</h3>
        <h3 class="title"><em>{{data.title}}</em></h3>
    </div>
    <div class="header_right" >
        <img ng-show="data.lbworkid" ng-src="{{getSourceImage()}}" ng-click="showLargeImage($event)" onerror="this.style.display = 'none';" >
    </div>

    <div class="large_img" ng-class="{visible : show_large}">
        <img ng-show="data.lbworkid" ng-src="txt/{{data.lbworkid}}/{{data.lbworkid}}_large.jpeg">
        <div class="cover"></div>
    </div>
    
    <p class="clearfix" ng-bind-html-unsafe="data.sourcedesc"></p>
    
    <div class="mediatypes">
        Läs verket som 
        <a class="mediatype" ng-href="{{getUrl(mediatype)}}">{{mediatype}}</a>
        <span ng-if="mediatype == 'epub' || mediatype == 'pdf'">({{data[mediatype].file_size}})</span>
    </div>
    <div ng-show="data.mediatypes.length > 1">
        Även tillgängligt som 
        <a class="mediatype" ng-repeat="mediatype in getOtherMediatypes()" href="{{getMediatypeUrl(mediatype)}}"><span ng-show="!$first">::: </span>{{mediatype}} </a>
    </div>
    
    <div class="provenance" ng-if="data.provenance.text.length">
        <a ng-href="{{data.provenance.link}}" ng-if="data.provenance.image"><img ng-src="red/bilder/gemensamt/{{data.provenance.image}}"></a> <!-- onerror="this.style.visibility = 'hidden'" -->
        <p>{{data.provenance.text}}</p>
    </div>
    
    <div ng-bind-html-unsafe="data.licenseText | correctLink"></div>
    
    <div ng-show="!mediatype || mediatype == 'etext'">
        <div ng-show="data.errata.length">I etexten har följande ändringar gjorts mot originalet:</div>
        <div ng-show="!data.errata">Inga ändringar har gjorts mot orginalet.</div>
        <table class="errata_table">
            <tr ng-repeat="tup in data.errata | limitTo:errataLimit">
                <td><strong>{{tup[0]}}</strong></td>
                <td>{{tup[1]}}</td>
            </tr>
        </table>
        <a class="toggle" ng-click="toggleErrata()" ng-show="!isOpen && data.errata.length > defaultErrataLimit">Visa fler</a>
        <a class="toggle" ng-click="toggleErrata()" ng-show="isOpen">Visa färre</a>
    </div>
</div>

<div toolkit>
    <hr>
    <span ng-repeat="author in data.authoridNorm">
        <a class="author" href="#!/forfattare/{{author.id}}">{{authorById[author.id].fullname}}</a>
        <span ng-if="author.type == 'editor'">(red.)</span>
        <span ng-if="!$last">och</span>
    </span>
    <!-- <div><a href="#!/forfattare/{{data.authorid}}">{{data.authorFullname}}</a></div> -->
    <div><em><a href="#!/forfattare/{{data.authorid}}/titlar/{{data.titleid}}/{{data.mediatypes[0]}}">{{data.shorttitle}}</a></em></div>
</div>