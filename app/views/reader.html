
<div css="{{workinfo.css}}" ng-if="mediatype == 'etext'"></div>

<div ng-switch on="mediatype">
    <img ng-src="{{url}}" ng-show="url" ng-switch-when="faksimil">

    <div selection-sniffer ng-switch-when="etext" ng-bind-html-unsafe="etext_html | setMarkee:markee_from:markee_to" ></div>
    <div ng-switch-when="faksimil" square x="x" y="y" width="width" height="height" class="faksimilMarkee"></div>
</div>


<div modal="lex_article.lexemes" close="close()" options="opts">
    <div class="so_modal">
        <div class="modal-header">
            <h4>Svensk ordbok (2009)</h4>
        </div>
        <div class="_so_article" ng-bind-html-unsafe="lex_article.lexemes">
        </div>
        <div class="modal-footer">
        </div>
    </div>
</div>


<toolkit>

    <hr>

    <a class="author" href="#/forfattare/{{workinfo.authorid}}">
        {{workinfo.authorFullname}}
    </a>
    <a class="title" 
        href="#/forfattare/{{workinfo.authorid}}/titlar/{{workinfo.titlepath}}/info">
        {{workinfo.showtitle}}
    </a>

    <div id="search_nav" ng-show="markee_from && markee_to && searchData.total_hits">
        <div class="box" style="">
            <div class="text">
                <div>
                    Sökträff
                </div>
                <div>
                    <span>{{searchData.current + 1}}</span> av <span>{{searchData.total_hits}}</span>
                </div>
            </div>
            <div class="ctrls">
                <img ng-click="close_hits()" class="close_btn" src="/bilder/kryssruta.png">
                <div style="clear:both;"></div>
                <div class="">
                    <img ng-click="prevHit()" class="" src="/bilder/v_pil.png"> 
                    <img ng-click="nextHit()" class="" src="/bilder/h_pil.png">
                </div>
            </div>
        </div>
    </div>

    <div style="height: 1em;"></div>

    <div><a href="#/forfattare/{{workinfo.authorid}}/titlar/{{workinfo.titlepath}}/info/{{mediatype}}">::: Om boken</a></div>

    <hr>


    <div>
        <a ng-click="firstPage()"><img src="/bilder/LBstart.png"></a>
        <a ng-click="prevPage()"><img src="/bilder/LBforegaende.png"></a>
        <a ng-click="nextPage()"><img src="/bilder/LBnasta.png"></a>
        <a ng-click="lastPage()"><img src="/bilder/LBslut.png"></a>
    </div>
    <form ng-submit="pagenum = displaynum">
        Sida <input class="pageinput" ng-model="displaynum">
    </form>

    <div>
        <ul class="work_parts">
            <li><a ng-click="gotopage(startpage)">[Start]</a></li>
            <li ng-repeat="part in workinfo.parts | limitTo:5">
                <a  tooltip="{{getTooltip(part)}}" tooltip-append-to-body
                    ng-click="gotopage(part.startpagename)">{{part.showtitle}}</a>
            </li>
        </ul>
    </div>

    <div class="partnav" ng-show="workinfo.parts.length > 5">
        <div>
            <i ng-mouseover="mouseover()" class="arrow_icon icon-play icon-large"></i>
        </div>

        <div ng-show="showPopup" class="triangle"></div>

        <ul class="part_menu" ng-show="showPopup" click-outside="showPopup = false">
            <li><a ng-click="gotopage(startpage)">[Start]</a></li>
            <li ng-repeat="part in workinfo.parts" tooltip="{{part.navtitle}}">
                
                <a ng-click="gotopage(part.startpagename)">{{part.showtitle}}</a>
            </li>
        </ul>

    </div>

    <div class="size_picker" ng-show="mediatype == 'faksimil'">
        <div ng-class="{selected : size}" ng-repeat="size in sizes track by $index" ng-click="setSize($index)">{{$index + 1}}</div>
        
    </div>

    <div class="word_search">
        <label>Slå upp i svensk ordbok</label>
        <input ng-model="lex_article"
                typeahead-throttle-ms="500"
               typeahead="article as article.baseform for article in getWords($viewValue)">
    </div>


</toolkit>
